; Hackaday Supercon 2025 Communicator Badge
; With NV3007 TFT Display Support (428Ã—142)

[env:supercon_2025]
extends = esp32s3_base
board = esp32-s3-devkitc-1
board_check = true
board_build.partitions = default_16MB.csv
upload_protocol = esptool

build_flags =
  ${esp32s3_base.build_flags}
  -D SUPERCON_2025
  -D BOARD_HAS_PSRAM
  -D PRIVATE_HW
  -I variants/esp32s3/supercon_2025
  ; LoRa configuration
  -D USE_SX1262
  ; Display configuration (NV3007 via ST7789S driver)
  -D HAS_SCREEN=1
  -D HAS_TFT=1
  -D ST7789S
  -D TFT_HEIGHT=428
  -D TFT_WIDTH=142
  -D SCREEN_ROTATE
  -D SCREEN_TRANSITION_FRAMERATE=5
  -D BRIGHTNESS_DEFAULT=130
  ; GPS
  -D HAS_GPS=0
  ; Enable BLE and WiFi
  -D HAS_BLUETOOTH=1
  -D HAS_WIFI=1
  ; Memory configuration
  -D RAM_SIZE=5120
  ; Debug options (can be disabled for production)
  -D RADIOLIB_DEBUG_BASIC=0
  -D RADIOLIB_DEBUG_SPI=0
  -D USE_LOG_DEBUG
  -D LOG_DEBUG_INC=\"DebugConfiguration.h\"

lib_deps =
  ${esp32s3_base.lib_deps}
  lovyan03/LovyanGFX@^1.2.0

; Alternative: Headless node without display (backup)
[env:supercon_2025_headless]
extends = esp32s3_base
board = esp32-s3-devkitc-1
board_check = true
board_build.partitions = default_16MB.csv
upload_protocol = esptool

build_flags =
  ${esp32s3_base.build_flags}
  -D SUPERCON_2025
  -D BOARD_HAS_PSRAM
  -D PRIVATE_HW
  -I variants/esp32s3/supercon_2025
  -D USE_SX1262
  -D HAS_SCREEN=0
  -D HAS_GPS=0
  -D HAS_BLUETOOTH=1
  -D HAS_WIFI=1
  -D RAM_SIZE=5120

lib_deps =
  ${esp32s3_base.lib_deps}
